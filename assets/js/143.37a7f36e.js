(window.webpackJsonp=window.webpackJsonp||[]).push([[143],{513:function(t,e,o){"use strict";o.r(e);var a=o(2),v=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("TimeToRead"),t._v(" "),e("p",[t._v("在上一节内容中，我们探讨了 Hook 的基类是如何实现的，这个基类中包含了一些公共方法，还有需要子类覆盖的 compile 方法，在整个 hook 管理的过程中，compile 是最重要和最复杂的内容。在本节内容中，我们将探讨 tapable Hook 中的工厂类 HookCodeFactory 的原理，了解 compile 函数的生成原理。")]),t._v(" "),e("h2",{attrs:{id:"目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[t._v("#")]),t._v(" 目录")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#目录"}},[t._v("目录")])]),e("li",[e("a",{attrs:{href:"#生成函数"}},[t._v("生成函数")])]),e("li",[e("a",{attrs:{href:"#hookcodefactory"}},[t._v("HookCodeFactory")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"生成函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生成函数"}},[t._v("#")]),t._v(" 生成函数")]),t._v(" "),e("p",[t._v("从  "),e("code",[t._v("HookCodeFactory")]),t._v("  名称来看，这是一个生成函数的 “代码工厂”。但从生成函数而言，一般有如下两种方式：")]),t._v(" "),e("ul",[e("li",[t._v("使用  "),e("code",[t._v("eval")]),t._v("  执行函数代码字串。")]),t._v(" "),e("li",[t._v("使用  "),e("code",[t._v("new Function()")]),t._v("  生成函数。 "),e("code",[t._v("new Function()")]),t._v("  可以接 n 个参数，最后一个参数作为函数体。")])]),t._v(" "),e("p",[t._v("区别：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th"),t._v(" "),e("th",[t._v("作用域")]),t._v(" "),e("th",[t._v("访问变量")]),t._v(" "),e("th",[t._v("案例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("eval")]),t._v(" "),e("td",[t._v("局部作用域")]),t._v(" "),e("td",[t._v("局部变量（window.eval () 或者 global.eval () 除外）")]),t._v(" "),e("td",[t._v("参考 "),e("RouterLink",{attrs:{to:"/qiankun/import-html-entry/#execscripts"}},[t._v("import-html-entry 原理")]),t._v(" 一文中  "),e("code",[t._v("evalCode")]),t._v("  的代码")],1)]),t._v(" "),e("tr",[e("td",[t._v("new Function")]),t._v(" "),e("td",[t._v("全局作用域")]),t._v(" "),e("td",[t._v("全局变量")]),t._v(" "),e("td",[t._v("参考 Vue 中生产渲染函数的代码（_h 函数）")])])])]),t._v(" "),e("p",[t._v("参考：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://segmentfault.com/a/1190000022730362",target:"_blank",rel:"noopener noreferrer"}},[t._v("eval 与 new Function 的区别 - SegmentFault 思否"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://stackoverflow.com/questions/4599857/are-eval-and-new-function-the-same-thing",target:"_blank",rel:"noopener noreferrer"}},[t._v("javascript - Are eval() and new Function() the same thing? - Stack Overflow"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"hookcodefactory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hookcodefactory"}},[t._v("#")]),t._v(" HookCodeFactory")])],1)}),[],!1,null,null,null);e.default=v.exports}}]);